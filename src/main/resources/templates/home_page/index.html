<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1" />
		<meta name="renderer" content="webkit" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>首页 - 四川旅游学院虚拟仿真实验教学管理平台</title>
		<link rel="stylesheet" href="../../static/new/css/reset.css" />
		<link rel="stylesheet" href="../../static/new/css/index.css" />
		<script>
			var chartsInfo = {
				1: {
					title: '实验数量统计',
					data: [
						{ value: 7, name: '信息管理与信息系统' },
						{ value: 3, name: '数字媒体与技术' },
						{ value: 2, name: '建筑电气与智能化' }
					]
				},
				2: {
					title: '平台用户统计',
					data: [
						{ value: 335, name: '校内人员' },
						{ value: 210, name: '校外人员' },
						{ value: 34, name: '其他人员' }
					]
				},
				3: {
					title: '考核人数统计',
					data: [
						{ value: 400, name: '通过考核' },
						{ value: 200, name: '未通过考核' }
					]
				},
				4: {
					title: '实验成绩统计',
					data: [
						{ value: 130, name: '高' },
						{ value: 100, name: '中' },
						{ value: 70, name: '低' }
					]
				}
			}
		</script>
	</head>
	<body>
		<div class="topbar">
			<div class="main cl">
				<p>四川旅游学院虚拟仿真实验教学管理平台</p>
				<div class="user-info" th:if="${session.username} == null">
					<a href="/login">登陆</a>
					<a href="/register">注册</a>
				</div>
				<div class="user-info" th:if="${session.username} != null">
					<span th:text="|欢迎你，${session.username} |"></span>
					<a th:href="@{/logout}">退出登录</a>
				</div>
			</div>
		</div>
		<div class="navs cl">
			<div class="logo">
				<img src="../../static/new/images/sctu.png" />
				<p>虚拟仿真实验教学管理平台</p>
			</div>
			<ul class="nav">
				<li><a href="javascript:;">首页</a></li>
				<li><a href="/newsinfo/shiyan">实验大厅</a></li>
				<li><a href="/setinfo/situation">平台概况</a></li>
				<li><a href="/teachers/frontList">师资队伍</a></li>
				<li><a href="/question/list1">咨询答疑</a></li>
				<li><a href="/learning/learningList">学习效果</a></li>
			</ul>
		</div>
		<div class="banners">
			<ul class="rslides">
				<li><img src="../../static/new/images/index02.jpg" /></li>
				<li><img src="../../static/new/images/index01.jpg" /></li>
				<li><img src="../../static/new/images/index03.jpg" /></li>
			</ul>
		</div>
		<div class="notice">
			<p>本平台虚拟实验课程版权归四川旅游学院虚拟仿真实验教学管理平台所有，可供学习参考，未经允许私自盗用用作商业用途将承担法律责任</p>
		</div>
		<div class="news-section">
			<div class="main cl">
				<div class="news-area">
					<div class="title-bar">
						<div class="title">虚拟实验平台公告</div>
						<a href="/newsinfo/more" class="more">more+</a>
					</div>
					<ul class="news-list">
						<li th:each="news:${newsPageInfo.content}" class="news-item">
							<a th:href="@{|noticeDetails/${news.id}|}" th:title="${news.news_name}" class="cl">
								<p th:text="${news.news_name}"></p>
								<span th:text="${#dates.format(news.dic_datetime,'yyyy-MM-dd')}"></span>
							</a>
						</li>
					</ul>
				</div>
				<div class="recommend">
					<div class="title-bar">
						<div class="title">推荐实验项目</div>
					</div>
					<div class="cl">
						<div class="recommend-item">
							<a th:href="@{|/expmodel/homeExpDispatcher/${mid0}|}">
								<img th:src="${img0}" />
								<p>基于旅游大数据虚拟仿真平台的推荐系统入门</p>
							</a>
						</div>
						<div class="recommend-item">
							<a th:href="@{|/expmodel/homeExpDispatcher/${mid1}|}">
								<img th:src="${img1}" />
								<p>实验二 数据模型，推荐流程总体框架</p>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="list-section">
			<div class="main">
				<div class="section-title">虚拟仿真实验列表</div>
				<div class="list-table">
					<div class="list-row list-header-row cl">
						<div class="list-id">序号</div>
						<div class="list-name">实验名称</div>
						<div class="list-incharge">负责人</div>
						<div class="list-desc">实验目的</div>
						<div class="list-time">课时</div>
						<div class="list-opt">操作</div>
					</div>
					<div class="list-row cl" th:each="exp:${allexp}">
						<div class="list-id" th:text="${exp.m_id}"></div>
						<div class="list-name" th:text="${exp.m_name}"></div>
						<div class="list-incharge" th:text="${exp.m_manager}"></div>
						<div class="list-desc" th:text="${exp.purpose}"></div>
						<div class="list-time" th:text="${exp.classhour}"></div>
						<div class="list-opt">
							<a th:href="@{|/expmodel/homeExpDispatcher/${exp.m_id}|}" class="list-btn">开始实验</a>
						</div>
					</div>
				</div>
				<div class="list-pager">
					<p>第 <span th:text="${allexp.number}+1"></span> 页，总 <span th:text="${allexp.totalPages}"></span> 页，共 <span th:text="${allexp.totalElements}"></span> 条</p>
					<p>
						<a th:href="@{/newsinfo/newslist}">首页</a>
						<a th:href="@{/newsinfo/newslist(pageNum=${allexp.hasPrevious()}?${allexp.number}-1:0)}">上一页</a>
						<a th:href="@{/newsinfo/newslist(pageNum=${allexp.hasNext()}?${allexp.number}+1:${allexp.number})}">下一页</a>
						<a th:href="@{/newsinfo/newslist(pageNum=${allexp.totalPages}-1)}">尾页</a>
					</p>
				</div>
			</div>
		</div>
		<div class="charts-section">
			<div class="main">
				<div class="section-title">平台数据统计</div>
				<div class="charts cl">
					<div class="chart-item" id="chart1"></div>
					<div class="chart-item" id="chart2"></div>
					<div class="chart-item" id="chart3"></div>
					<div class="chart-item" id="chart4"></div>
				</div>
			</div>
		</div>
		<footer>
			<p>copyright © 2020 四川旅游学院虚拟仿真实验教学平台</p>
		</footer>
		<script src="//cdn.staticfile.org/jquery/1.8.0/jquery.min.js"></script>
		<script src="../../static/new/js/slider.min.js"></script>
		<script src="//cdn.staticfile.org/echarts/4.8.0/echarts.common.min.js"></script>
		<script>
			$(function () {
				// 轮播图
				$('.rslides').responsiveSlides({
					auto: true,
					pager: true
				})
				// 滚动公告
				marquee()
				// 图标
				var myChart1 = echarts.init($('#chart1')[0])
				var myChart2 = echarts.init($('#chart2')[0])
				var myChart3 = echarts.init($('#chart3')[0])
				var myChart4 = echarts.init($('#chart4')[0])
				myChart1.setOption(getOption(1))
				myChart2.setOption(getOption(2))
				myChart3.setOption(getOption(3))
				myChart4.setOption(getOption(4))
			})
			// 轮播图方法
			function marquee() {
				var scrollWidth = $('.notice').width()
				var textWidth = $('.notice p').width()
				var i = scrollWidth
				setInterval(function () {
					i--
					if (i < -textWidth) {
						i = scrollWidth
					}
					$('.notice p').animate({ left: i + 'px' }, 3)
				}, 5)
			}
			// 图表配置
			function getOption(chartId) {
				return (option = {
					color: getColors(),
					title: {
						text: chartsInfo[chartId].title,
						bottom: 0,
						left: 'center',
						textStyle: {
							fontSize: '18',
							fontWeight: 'normal'
						}
					},
					tooltip: {
						confine: true,
						trigger: 'item',
						renderMode: 'richText',
						formatter: '{b}: {c} ({d}%)'
					},
					series: [
						{
							type: 'pie',
							radius: ['35%', '75%'],
							avoidLabelOverlap: false,
							label: {
								show: false,
								position: 'center',
								formatter: function (data) {
									var _str = data.name.slice(0, 5) + '\n' + data.name.slice(5)
									return data.name.length > 5 ? _str : data.name
								}
							},
							emphasis: {
								label: {
									show: true,
									fontSize: '14'
								}
							},
							labelLine: {
								show: false
							},
							data: chartsInfo[chartId].data
						}
					]
				})
			}
			function getColors() {
				var colors = ['rgba(255,99,132,1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)', 'rgba(255, 159, 64, 1)', 'rgba(153, 102, 255, 1)']
				colors.sort(function () {
					return 0.5 - Math.random()
				})
				return colors
			}
		</script>
	</body>
</html>
